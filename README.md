# <span style="color:#2f81f7">p-14471-mission-260128</span>

## <span style="color:#59a14f">명언 게시판</span>

---

## <span style="color:#d876e3">1. 기본 조건</span>

### <span style="color:#f39c12">입력 조건</span>
- [x] 사용자가 잘못된 값을 입력할 경우 'IllegalArgumentException' 발생시킨 후 애플리케이션은 종료되어야 한다.
    - [x] 잘못된 입력 메시지에는 반드시 '[ERROR]' 또는 명확한 오류 메시지가 포함되어야 한다.
    - [x] 예외 발생 시 추가 입력을 받지 않고 프로그램이 종료된다.

### <span style="color:#f39c12">명언 입력</span>
- [x] 작가명(author)과 명언내용(content)에는 특수문자를 입력할 수 없다.
    - [x] 한글, 영문, 숫자, 공백만 허용한다. (ex. '!', '@', '#', '?' 등은 허용하지 않는다.)
- [x] 작가명(author)과 명언내용(content)은 공백이 아닌 문자열이어야 한다.
    - [x] 빈 문자열("") 또는 공백만 있는 문자열 입력 시 예외가 발생해야 한다.
- [x] 작가명과 명언 내용 입력 순서는 다음과 같다.
    - [x] '명언 : ' 프롬프트 후 명언 내용을 입력받는다.
    - [x] '작가 : ' 프롬프트 후 작가명을 입력받는다.

### <span style="color:#f39c12">명령어 입력</span>
- [x] 애플리케이션은 아래 형식으로 시작한다.
    - [x] '== 명언 앱 ==' 을 한 번 출력한다.
- [x] 모든 루프에서 사용자 입력 전 아래 프롬프트를 출력한다.
    - [x] '명령) '
- [ ] 사용자는 다음 명령어를 입력할 수 있다.
    - [x] '등록' : 명언을 등록하는 명령어
    - [x] '목록' : 등록된 명언을 출력하는 명령어
    - [x] '삭제?id={번호}' : 해당 번호의 명언을 삭제하는 명령어  
      (ex. '삭제?id=1')
    - [x] '수정?id={번호}' : 해당 번호의 명언을 수정하는 명령어  
      (ex. '수정?id=2')
    - [x] '종료' : 애플리케이션을 종료하는 명령어
    - [ ] '빌드' : 명언 모음 파일(data.json)을 생성하는 명령어
- [x] 알 수 없는 명령어 입력 시 '올바른 명령어를 입력해주세요.' 라는 안내 문구를 출력한 후 종료한다.

---

## <span style="color:#d876e3">2. 출력 조건</span>

### <span style="color:#e67e22">명언 등록</span>

- [x] '등록' 명령어 입력 시 다음 순서대로 진행된다.
    - [x] '명언 : ' 을 출력하고 명언 내용을 입력받는다.
    - [x] '작가 : ' 을 출력하고 작가명을 입력받는다.
- [x] 올바른 명언 등록 시 다음 형식으로 결과를 출력한다.
    - [x] '{번호}번 명언이 등록되었습니다.'
- [x] 명언 번호는 1부터 시작하며, 등록할 때마다 1씩 증가한다.
    - [x] 한 번 사용된 번호는 삭제되더라도 다시 재사용하지 않는다.
      (ex. 1, 2 등록 후 1 삭제 → 이후 등록되는 명언은 '3번'부터 부여된다.)
- [x] 명언 등록 시 작가명 또는 명언내용이 공백이거나 특수문자를 포함할 경우
    - [x] 'IllegalArgumentException'을 발생시키고 프로그램을 종료한다.
    - [x] ex. '[ERROR] 올바른 작가명과 명언내용을 입력해주세요.'

### <span style="color:#e67e22">명언 목록 출력</span>

- [x] '목록' 명령어 입력 시 다음 형식으로 출력한다.
    - [x] 첫 줄에 '번호 / 작가 / 명언' 을 출력한다.
    - [x] 둘째 줄에 구분선 '----------------------' 을 출력한다.
- [x] 그 아래에는 등록된 명언들을 다음 형식으로 출력한다.
    - [x] '{번호} / {작가} / {명언내용}'
      (ex. '1 / 오상민 / 국장 하지마라.')
- [x] 명언 목록은 최근에 등록된 명언이 가장 위에 오도록 역순으로 출력한다.
- [x] 등록된 명언이 하나도 없을 경우 '등록된 명언이 없습니다.' 와 같은 안내 문구를 출력한다.

### <span style="color:#e67e22">명언 삭제 출력</span>

- [x] '삭제?id={번호}' 형식의 명령어를 처리한다.
    - [x] 'id' 값은 정수이어야 하며, 정수가 아닐 경우 예외를 발생시키고 프로그램을 종료한다.
- [x] 삭제 대상 명언이 존재할 경우 '{번호}번 명언이 삭제되었습니다.' 를 출력한다.
- [x] 삭제 대상 명언이 존재하지 않을 경우 '{번호}번 명언은 존재하지 않습니다.' 를 출력한다.
- [x] 한 번 삭제된 명언 번호는 추후에도 재사용되지 않는다.

### <span style="color:#e67e22">명언 수정 출력</span>

- [x] '수정?id={번호}' 형식의 명령어를 처리한다.
    - [x] 'id' 값은 정수이어야 하며, 정수가 아닐 경우 예외를 발생시키고 프로그램을 종료한다.
- [x] 수정 대상 명언이 존재하지 않을 경우 '{번호}번 명언은 존재하지 않습니다.' 를 출력한다.
- [x] 수정 대상 명언이 존재할 경우 다음 순서로 출력 및 입력을 진행한다.
    - [x] '명언(기존) : {기존 명언내용}'
    - [x] '명언 : ' 을 출력하고 수정할 명언 내용을 입력받는다.
    - [x] '작가(기존) : {기존 작가명}'
    - [x] '작가 : ' 을 출력하고 수정할 작가명을 입력받는다.
- [x] 수정 입력 값은 다음과 같이 검증할 수 있어야 한다.
    - [x] 수정된 명언/작가도 등록과 동일한 입력 조건을 만족해야 한다. (공백 불가, 특수문자 불가)
    - [x] 조건을 만족하지 않으면 예외를 발생시키고 프로그램을 종료한다.
- [x] 수정 완료 후 목록 출력 시 수정된 내용이 반영되어야 한다.
    - [x] 수정 시에도 명언 번호(id)는 변경되지 않는다.
    - [x] 삭제된 명언은 수정할 수 없다.

### <span style="color:#e67e22">명언 빌드 출력</span>

- [ ] '빌드' 명령어 입력 시 'data.json의 내용이 갱신되었습니다.'를 출력한다.

### <span style="color:#e67e22">명령어 출력 및 종료</span>

- [x] 프로그램 시작 시 맨 처음 한 번 '== 명언 앱 ==' 을 출력한다.
- [x] 모든 루프에서 사용자 입력 전 '명령) ' 프롬프트를 출력한다.
- [x] '종료' 명령어 입력 시 프로그램을 종료한다.
- [x] 잘못된 명령어를 입력할 경우 예외를 발생시키고 "올바른 명령어를 입력해주세요." 와 같은 메시지를 출력한 뒤 종료해야 한다.

---

## <span style="color:#d876e3">3. 영속성 조건</span>

### <span style="color:#e67e22">파일을 통한 영속성</span>
- [ ] 명언 데이터는 애플리케이션이 종료된 이후에도 유지되어야 한다.
    - [ ] 각 명언은 개별 파일로 db/wiseSaving 폴더에 저장된다.
    - [ ] 각 명언의 파일명은 {명언번호}.json 형식으로 저장된다. 
      (ex. 1.json, 2.json, ...)
- [ ] 각 명언 데이터의 파일 내용은 다음과 같다.
  (ex. 1.json)
    ```json
    {
      "id": 1,
      "author": "오상민",
      "content": "옛날통닭 두마리"
    }
    ```
- [ ] 가장 마지막에 생성된 명언 번호는 db/wiseSaving/lastid.txt 파일에 저장된다.
    - [ ] 애플리케이션 시작 시 lastid.txt 파일을 읽어와서 마지막 명언 번호를 복원한다.
    - [ ] last_id.txt 파일이 존재하지 않을 경우 마지막 명언 번호는 0으로 간주한다.
- [ ] 명언을 등록, 수정할 때 해당 파일이 갱신되어야 한다.

### <span style="color:#e67e22">명언 모음</span>
- [ ] '빌드' 명령어 입력 시 모든 명언들을 모아서 data.json 파일로 생성한다.
    - [ ] data.json 파일의 내용은 다음과 같다.
    ```json
    [
      {
        "id": 1,
        "author": "오상민",
        "content": "옛날통닭 두마리"
      },
      {
        "id": 2,
        "author": "오상민",
        "content": "콜라는 펩시로"
      }
    ]
    ```
---

## <span style="color:#d876e3">4. 기타 구현 조건</span>

- [x] 최대한 라이브러리를 사용하지 않고 구현한다. 단, 자바 표준 라이브러리는 적극적으로 활용해도 된다.
- [x] 테스트 시 'assertThat' 사용을 위해 다음 의존성을 사용한다.
    - [x] 'testImplementation("org.assertj:assertj-core:3.26.3")'
- [x] 명령어 파싱, id 추출, 검증 등의 로직은 별도 메서드로 분리하여 가독성과 재사용성을 높인다.
- [x] 도메인 로직(명언 저장, 조회, 삭제, 수정)과 입출력(Console)을 적절히 분리하여 설계한다.